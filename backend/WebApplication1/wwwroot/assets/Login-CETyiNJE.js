import{r,u as p,j as e}from"./index-sC0jSauN.js";import{c as b}from"./index-NwRbqxpA.js";import{L as j,y as n}from"./index-Bd1dTK1j.js";function N(){const[o,f]=r.useState(""),[i,x]=r.useState(),c="",d=p(),[u,a]=r.useState(!1),[m,l]=r.useState(!1),h=async s=>{s.preventDefault();try{const t=await fetch(`${c}/register`,{method:"POST",body:JSON.stringify({email:o,password:i}),headers:{Accept:"*/*","Content-Type":"application/json"},mode:"cors"});t.status===200?(n.success("Register successfully"),l(!0),a(!1)):t.status===400&&(n.error("Could not register"),a(!0)),console.log(t)}catch(t){console.log(t)}},g=async s=>{s.preventDefault();try{const t=await fetch(`${c}/login?useCookies=true&useSessionCookies=true`,{method:"POST",body:JSON.stringify({email:o,password:i}),headers:{Accept:"*/*","Content-Type":"application/json"},mode:"cors",credentials:"include"});t.status===200?(d("/"),sessionStorage.setItem("username",o)):t.status===401&&(n.error(t.statusText),a(!0),console.log("ich bin 401"))}catch(t){console.log(t)}};return e.jsxs("div",{className:"mt-6",children:[e.jsx(j,{}),e.jsx("div",{className:"flex w-16 ml-32 gap-48",children:e.jsx("button",{className:"flex justify-center items-center h-12 w-12 rounded-full translate-x-32 hover:bg-[#384268]",onClick:()=>d("/"),children:e.jsx(b,{className:"text-6xl "})})}),sessionStorage.getItem("username")?e.jsx("div",{className:"flex w-full justify-center",children:e.jsx("div",{className:"flex flex-col w-1/2  max-w-[720px] shadow-2xl shadow-black mt-32 gap-5 text-lg p-5 rounded-xl",children:e.jsxs("div",{className:"flex w-full text-xl ",children:[e.jsx("div",{className:"flex-col flex items-start justify-start w-1/3 font-extrabold gap-6",children:e.jsx("p",{className:"h-5",children:"Email: "})}),e.jsx("div",{className:"flex-col flex items-start justify-start w-2/3 gap-6",children:e.jsx("p",{className:"h-5",children:sessionStorage.getItem("username")})})]})})}):e.jsxs("form",{className:"flex flex-col justify-center items-center gap-7 self-center w-full  ",children:[e.jsxs("div",{className:"w-1/3  h-20 text-2xl flex font-extrabold rounded-xl border-slate-600 border  transition duration-250  justify-evenly",children:[e.jsx("button",{className:"hover:bg-[#4b5477] w-1/2",onClick:s=>{s.preventDefault(),l(!0)},children:"Login"}),e.jsx("button",{className:"hover:bg-[#4b5477] w-1/2",onClick:s=>{s.preventDefault(),l(!1)},children:"Register"})]}),e.jsx("input",{name:"name",className:"bg-transparent border w-1/3 rounded-2xl p-3 border-slate-600 focus:border-[#b624ff] hover:border-white outline-none",placeholder:"Email",type:"text",onChange:s=>f(s.target.value)}),e.jsx("input",{name:"name",className:"bg-transparent border w-1/3 rounded-2xl p-3 border-slate-600 focus:border-[#b624ff] hover:border-white outline-none",placeholder:"Password",type:"password",onChange:s=>x(s.target.value),style:{borderColor:u?"red":""}}),u&&e.jsx("p",{className:"text-red-500",children:"Username or Password are wrong"}),m?e.jsx("button",{className:"w-1/3  h-20 text-2xl font-extrabold rounded-full hover:shadow-custom transition duration-250 bg-[#b624ff]",onClick:g,children:"Login"}):e.jsx("button",{className:"w-1/3  h-20 text-2xl font-extrabold rounded-full hover:shadow-custom transition duration-250 bg-[#b624ff]",onClick:h,children:"Register"})]})]})}export{N as default};
